(()=>{"use strict";function e(e,t,n,r,i){let l=document.createElement("input");return l.setAttribute("type","button"),l.setAttribute("id",e),l.setAttribute("style",t),l.setAttribute("value",n),l.setAttribute("onClick",r),l.setAttribute("class",i),l}function t(e,t){let n=document.createElement("form");return n.setAttribute("id",e),n.setAttribute("style",t),n}function n(e,t,n){let r=document.createElement("input");return r.setAttribute("type","text"),r.setAttribute("id",e),r.setAttribute("style",t),r.setAttribute("value",n),r}function r(e,t,n){let r=document.createElement("div");return r.setAttribute("id",e),r.setAttribute("style",t),r.setAttribute("value",n),r}function i(e){document.getElementById("massageField").remove();let t=document.createElement("div");t.setAttribute("id","massageField"),t.setAttribute("align","center"),t.innerHTML=e,document.body.appendChild(t)}const l=async(e,t)=>{let n=await fetch("api/SignIn",{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify([e,t])});if(n.ok)return!0;throw n.status},o=async(e,t)=>{let n=await fetch("api/SignUp",{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify([e,t])});if(n.ok)return!0;throw n.status},a=async()=>{let e=new Array,t=await fetch("api/Catalog/GameCatalog",{method:"GET"});if(t.ok)return e=await t.json(),e;throw t.status};let d=null,u=null;function c(){let e=document.getElementById("login_bar").value,t=document.getElementById("password_bar").value;l(e,t).then((()=>{d=e,u=t,a().then((e=>{!function(e){let t=document.getElementById("root_point");g.renderCatalog(t,e)}(e)})).catch((e=>{i("error: "+e+"<br>")}))})).catch((e=>{i(e+"Неправильный логин или пароль.<br>")}))}function p(){let e=document.getElementById("reg_login_bar").value,t=document.getElementById("reg_password_bar").value;o(e,t).then((()=>{b()})).catch((e=>{i(e+" Неверные данные для регистрации.<br>")}))}const s=function(){let r;return{renderSignIn:function(i){r=i,function(){let i=r.getElementsByTagName("form");for(let e=i.length-1;e>-1;e--)i[e].remove();let l=t("signIn_form",null),o=document.createElement("p");o.setAttribute("align","center");let a=n("login_bar",null,""),d=n("password_bar",null,"");o.innerHTML+="Логин: <br>",o.appendChild(a),o.appendChild(document.createElement("br")),o.innerHTML+="Пароль:",o.appendChild(document.createElement("br")),o.appendChild(d);let u=document.createElement("div"),p=e("buttonContainer","position: relative;top: 20px;","Авторизация",void 0,void 0),s=e("buttonContainer","position: relative;top: 20px;","Регистрация",void 0,void 0);p.addEventListener("click",c),s.addEventListener("click",h),u.appendChild(p),u.appendChild(s),o.appendChild(u),l.appendChild(o),r.appendChild(l),document.body.appendChild(r)}()}}}(),m=function(){let r;return{renderSignUp:function(l){r=l,function(){i("");let l=r.getElementsByTagName("form");for(let e=l.length-1;e>-1;e--)l[e].remove();let o=t("signUp_form",null),a=document.createElement("p");a.setAttribute("align","center"),a.innerHTML+="Регистрация<br>";let d=n("reg_login_bar",null,""),u=n("reg_password_bar",null,"");a.innerHTML+="Логин:",a.appendChild(document.createElement("br")),a.appendChild(d),a.appendChild(document.createElement("br")),a.innerHTML+="Пароль:",a.appendChild(document.createElement("br")),a.appendChild(u);const c=document.createElement("div"),s=e("buttonContainer","position: relative;top: 20px;","Продолжить",null,void 0),m=e("buttonContainer","position: relative;top: 20px;","Назад",null,void 0);s.addEventListener("click",p),m.addEventListener("click",b),c.appendChild(s),c.appendChild(m),a.appendChild(c),o.appendChild(a),r.appendChild(o)}()}}}(),g=function(){let e,n;function l(e,t){t.setAttribute("id","styleCatalogElement");let n=function(e,t,n,r){let i=document.createElement("img");return i.setAttribute("id","styleCatalogImg"),i.setAttribute("src",t),i.setAttribute("width","200"),i.setAttribute("height","130"),i}(0,e.img);n.setAttribute("style","border-radius: 2px;border-color: rgb(20, 20, 20);border-width: 2px;"),console.log(e.img);let i=r("styleCatalogName",null,"");i.innerHTML=e.medic_names;let l=r("styleCatalogCost",null,"");l.innerHTML=e.medic_cost+" р";let o=r("styleCatalogCount",null,"");o.innerHTML=e.medic_count+" Штук",t.appendChild(i),t.appendChild(l),t.appendChild(n),t.appendChild(o)}return r("contentMessage",null,""),{renderCatalog:function(r,o){e=r,n=o,function(){i("");let r=e.getElementsByTagName("form");for(var o=0;o<r.length;o++)r[o].remove();const a=t("catalog_form","background: rgba(50, 50, 50, 0.25);color: rgb(220, 220, 220 )!important;border-radius: 20px;margin-left: auto;margin-right: 75%;width: 600px;");for(o=0;o<n.length;o++){let e=document.createElement("div");e.setAttribute("align","center"),e.setAttribute("style","background: rgba(50, 50, 50, 0.75);border-radius: 6px;margin-left: auto;margin-right: auto;width: 50%;height: 23%;"),l(n[o],e),a.appendChild(e),a.appendChild(document.createElement("br")),a.appendChild(document.createElement("br")),a.appendChild(document.createElement("br")),a.appendChild(document.createElement("br"))}e.appendChild(a)}()}}}();function b(){let e=document.getElementById("root_point");s.renderSignIn(e)}function h(){let e=document.getElementById("root_point");m.renderSignUp(e)}window.onload=function(){b()}})();